<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="stylesheet" href="css/style.css" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/vue@next"></script>
        <title>Assignment 07 - Using Vue</title>
    </head>
    <body>
        <main class="main" id="app">
          <h1>Webpage using Bootstrap</h1>
          <section class="container">
            <h2>Movie List</h2>
            <div class="accordion" id="movieListAccordion">

              <!-- start v-for -->
              <div class="accordion-item" v-for="movie in movieList">
                <h3 class="accordion-header" v-bind:id="'movieTitle' + movie.id">
                  <button class="accordion-button" type="button" data-bs-toggle="collapse" v-bind:data-bs-target="'#movieCollapse' + movie.id">
                    {{ movie.title }}
                  </button>
                </h3>
                <div v-bind:id="'movieCollapse' + movie.id" class="accordion-collapse collapse" data-bs-parent="#movieListAccordion">
                  <div class="accordion-body">
                    <p>{{ movie.description }}</p>
                  </div>
                </div>
              </div>
              <!-- end v-for -->

            </div>
          </section>
          <section class="container">
            <h2>Make a Donation</h2>
            <p>{{ formDescription }}</p>

            <form class="formy">
              <div class="formInput row">
                <label for="name" class="col-2">Name:</label>
                <input type="text" class="col-4" name="name" id="name">
              </div>
              <div class="formInput row">
                <label for="cardNumber" class="col-2">Card Number:</label>
                <input type="text" class="col-4" name="cardNumber" id="cardNumber" v-on:focus="toggleCardBlurb" v-on:blur="toggleCardBlurb">
                <span class="text-primary col-3" v-if="shouldShowCardBlurb">Please use your own card!</span>
              </div>
              <div class="formInput row">
                <label for="zipCode" class="col-2">Zip Code:</label>
                <input type="text" class="col-2" name="zipCode" id="zipCode">
              </div>
              <div class="formInput row">
                <label for="cvv" class="col-2">CVV:</label>
                <input type="text" class="col-2" name="cvv" id="cvv">
              </div>
              <div class="formInput row">
                <div class="offset-md-2 col-6">
                  <input type="checkbox" name="coverTransactionFee" id="coverTransactionFee" value="coverTransactionFee">
                  <label for="coverTransactionFee">I want to cover the transaction fees for this donation</label>
                </div>
              </div>
              <div class="formInput row" v-if="isLoggedIn">
                <div class="offset-md-2 col-6">
                  <input type="checkbox" name="makeMonthly" id="makeMonthly" value="makeMonthly">
                  <label for="makeMonthly">I want to make this a monthly donation</label>
                </div>
              </div>
              <input id="formSubmitButton" type="submit" value="Submit">
            </form>
          </section>
        </main>

        <script src="./scripts/scripts.js" charset="utf-8"></script>
        <script type="text/javascript">
          const HomeworkApp = {
            data() {
              return {
                isLoggedIn: true,
                shouldShowCardBlurb: false,
                formDescription: "This website is run on donations from people like you. Even sparing just $1 helps!",
                movieList: [
                  {
                    title: "Knives Out",
                    description: "A wealthy author is found dead and all of his shady descenants are suspects.",
                    id: 1
                  },
                  {
                    title: "Jurasic Park",
                    description: "A scientist grows dinosaurs back to life using their DNA, and create an amusment park to show them off. Of course things go wrong.",
                    id: 2
                  },
                  {
                    title: "Inglorious Basterds",
                    description: "A small group of soldiers hunt after Nazis in WWII.",
                    id: 3
                  }
                ]
              }
            },
            methods: {
              toggleCardBlurb() {
                this.shouldShowCardBlurb = !this.shouldShowCardBlurb;
              }
            }
          };

          Vue.createApp(HomeworkApp).mount('#app');
        </script>
    </body>
</html>
